var missileTime=1500,score=0,setArrows=function(){$("body").keydown(function(a){37==a.keyCode?move("-"):39==a.keyCode&&move("+")})},move=function(a){var b=$("#player").parent()[0],c=findDest(a,b);("+"===a&&3>c||"-"===a&&c>=0)&&tableMove($("#player"),$("#b"+c),50)},findDest=function(sign,$place){return eval($place.id[1]+sign+"1")},tableMove=function(a,b,c,d){var e=a.offset();a.appendTo(b);var f=a.offset(),g=a.clone().appendTo("body");g.css({position:"absolute",left:e.left,top:e.top,"z-index":1e3}),a.hide(),g.animate({left:f.left,top:f.top},c,"linear",function(){a.show(),g.remove(),d&&d(a)})},fire=function(){var a=$("<div>");a.addClass("missile");var b=pickDest();$("#t1").append(a),tableMove(a,b,missileTime,bounceback)},pickDest=function(){var a=3*Math.random();return a=Math.floor(a),$("#m"+a)},bounceback=function(a){updateScore(),missileTime>350&&(missileTime-=.05*missileTime),checkBounce(a)?tableMove(a,$("#t1"),missileTime,goAgain):endGame()},updateScore=function(){score+=Math.trunc((1600-missileTime)/2);for(var a=score.toString();a.length<5;)a="0"+a;$("#score").html(a)},checkBounce=function(a){var b=a.parent()[0].id[1],c=$("#player").parent()[0].id[1];return b===c},goAgain=function(a){a.remove(),fire()},endGame=function(){$(".missile").remove(),$("body").unbind();var a=$("<div>");a.addClass("greyOut"),$("#field").append(a)};$(document).ready(function(){setArrows(),fire()});